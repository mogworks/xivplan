# 最终幻想14外置战术板

https://plan.xivstrat.cn/

本项目基于 XIVPlan 项目，做了汉化及大量功能优化和增强，旨在为中文用户提供更好的使用体验。

原项目：https://github.com/joelspadin/xivplan

## 改动和优化

- 汉化，支持中英文切换
- 重新调整了 UI 布局，调整了各面板元素分类等
- 分为前景、默认、背景三个图层，每个元素都可独立设置图层
- 场地面板：
  - 拆分为背景、基底、贴图、场景标记、游戏内置场景、网格、边框刻度七个子面板
  - 基底边距拆分为横向和纵向边距，可分别调整
  - 基底颜色可修改
  - 基底阴影优化
  - 支持设置画布背景颜色、透明度、上下左右边距
  - 支持设置基底颜色、透明度
  - 场地贴图可独立设置宽高、偏移量、透明度
  - 支持调整网格颜色、透明度
  - 新增重量级场地预设，可快速添加M9S~M12S的场地预设
  - 新增标点组组件：可同时便捷设置八个标点
- 元素面板：
  - 拆分为AoE、机制、指示器、友方、地方、目标环、连线七个子面板
  - 新增AoE类型元素，模仿游戏内原生风格
- 图标面板：
  - buff支持中文搜索
- 绘制面板：
  - 将原本的形状移到此处
  - 新增通用图片组件：可在战术板上添加任意图片
- 场景面板：
  - 按图层分层展示
  - 每个元素新增两个快捷按钮：锁定位置、隐藏
- 主面板：
  - 新增编组/解除编组按钮，可将选中的元素编组/解除编组
  - 新增合并图层按钮，可将所选图层合并为单一图层
  - 支持与游戏内置战术板互相导入
- 修复：
  - 修复短屏幕时，画布右侧的滚动条会溢出的样式问题（SceneRender没有设置 max-width）
  - 修改截图超时时长（1s -> 10s），以免复杂战术板截图时超时
  - 添加了图床代理，以避免第三方图床CORS问题
  - 修复部分情况下帮助面板里会缺少部分快捷键帮助信息的bug
- 优化：
  - 每个 step 对应独立的 Konva Stage，避免 step 切换时 Stage 反复渲染
  - 锁定逻辑，现在被锁定元素会被鼠标穿透
